<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Service - IT'aawun</title>
<style>
  /* Body & Gradient Background */
  body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background: linear-gradient(-45deg, #001f3f, #D3D3D3, #FFFFFF, #00aaff);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
    color: #333;
  }
  @keyframes gradientBG {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }

  /* Header */
  header {
    background: rgba(0,0,0,0.2);
    color: white;
    padding: 15px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  header .logo { font-size:22px;font-weight:bold;cursor:pointer; }
  .profile-container{position:relative;}
  .profile-pic{
    width:40px; height:40px; border-radius:50%; cursor:pointer;
    border:2px solid white;
  }
  .dropdown{
    display:none; position:absolute; right:0; top:50px;
    background:white; border-radius:8px; box-shadow:0 4px 8px rgba(0,0,0,0.2);
    z-index:100;
  }
  .dropdown a{
    display:block; padding:10px; text-decoration:none; color:#333; font-size:14px;
  }
  .dropdown a:hover{background:#f0f0f0;}

  /* Container */
  .container{
    max-width:500px;
    width:95%;
    margin:30px auto;
    background: rgba(255,255,255,0.95);
    padding:20px;
    border-radius:12px;
    box-shadow:0 5px 15px rgba(0,0,0,0.2);
  }

  h2{
    color:#001f3f;
    text-align:center;
    margin-bottom:20px;
    text-shadow:1px 1px 2px rgba(255,255,255,0.7);
  }
  label{display:block;margin:12px 0 5px; font-size:14px;}
  input, textarea, select{
    width:100%;
    padding:10px;
    border-radius:6px;
    border:1px solid #ccc;
    font-size:14px;
    box-sizing:border-box;
  }
  textarea{resize:none;}
  button{
    margin-top:15px;
    padding:12px 15px;
    border:none;
    border-radius:8px;
    background:#001f3f;
    color:white;
    font-size:16px;
    cursor:pointer;
    width:100%;
    font-weight:bold;
    transition:.3s;
  }
  button:hover{background:#004f80;}
</style>
</head>
<body>

<header>
  <div class="logo" onclick="window.location.href='home.html'">IT'aawun</div>
  
  <div class="profile-container">
    <img src="ipey.jpeg" alt="Profile" class="profile-pic" onclick="toggleDropdown()">
    <div class="dropdown" id="dropdownMenu">
      <a href="profile.html">My Profile</a>
      <a href="#">Settings</a>
      <a href="index.html">Logout</a>
    </div>
  </div>
</header>

<div class="container">
  <h2>Create Your Service</h2>
  <form id="serviceForm">
    <label for="serviceType">Service Type</label>
    <select id="serviceType" required>
      <option value="">Select Type</option>
      <option value="offered">Service Offered</option>
      <option value="needed">Service Needed</option>
    </select>

    <label for="title">Service Title</label>
    <input type="text" id="title" required>

    <label for="desc">Description</label>
    <textarea id="desc" rows="4" required></textarea>

    <label for="price">Price (RM)</label>
    <input type="number" id="price" required>

    <label for="category">Category</label>
    <select id="category" required>
      <option value="">Select Category</option>
      <option value="design">Design</option>
      <option value="coding">Coding</option>
      <option value="writing">Writing</option>
      <option value="tutoring">Tutoring</option>
      <option value="photography">Photography</option>
    </select>

    <label for="contact">Email</label>
    <input type="email" id="contact" required>

    <label for="whatsapp">WhatsApp Number</label>
    <input type="text" id="whatsapp" placeholder="60123456789" required>

    <label for="telegram">Telegram Username</label>
    <input type="text" id="telegram" placeholder="username" required>

    <label for="image">Image URL</label>
    <input type="text" id="image" placeholder="https://example.com/image.jpg">

    <button type="submit">Submit Service</button>
  </form>
</div>

<script>
function toggleDropdown() {
  const m = document.getElementById("dropdownMenu");
  m.style.display = (m.style.display === "block") ? "none" : "block";
}
window.onclick = function(e) {
  if (!e.target.matches('.profile-pic')) {
    document.getElementById("dropdownMenu").style.display = "none";
  }
}

document.getElementById("serviceForm").addEventListener("submit", function(e){
  e.preventDefault();

  const type = document.getElementById("serviceType").value;
  const title = document.getElementById("title").value;
  const desc = document.getElementById("desc").value;
  const price = document.getElementById("price").value;
  const category = document.getElementById("category").value;
  const contact = document.getElementById("contact").value;
  const whatsapp = document.getElementById("whatsapp").value;
  const telegram = document.getElementById("telegram").value;
  let image = document.getElementById("image").value;
  if(!image) image="https://via.placeholder.com/220x120";

  let key = type === "needed" ? "neededServices" : "offeredServices";
  let services = JSON.parse(localStorage.getItem(key) || "[]");
  services.push({title, desc, price, category, contact, whatsapp, telegram, image, type});
  localStorage.setItem(key, JSON.stringify(services));

  alert(`Service (${type}) added successfully!`);
  document.getElementById("serviceForm").reset();
});
</script>

</body>
</html>
